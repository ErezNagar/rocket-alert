(this["webpackJsonprocket-alert"]=this["webpackJsonprocket-alert"]||[]).push([[0],{70:function(e,t,s){},92:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s.n(a),i=s(48),n=s.n(i),c=s(23),l=s(24),o=s(31),j=s(30),h=(s(70),s(61)),d=s(102),b=s(106),O=s(101),u=s(103),x=s(94),m=s(100),p=s(104),v=s(105),f=s(59),g=s(1),w=function(e){var t=e.show,s=e.children,r=Object(a.useState)(t),i=Object(f.a)(r,2),n=i[0],c=i[1];Object(a.useEffect)((function(){t&&c(!0)}),[t]);return n&&Object(g.jsx)("div",{style:{animation:t?"fadeIn 400ms":"none"},onAnimationEnd:function(){t||c(!1)},children:s})},D=function(e){var t=e.showAverage;return Object(g.jsx)(O.a,{gutter:[8],justify:"center",className:t?"loading-average":"loading-basic",children:Object(g.jsx)(u.a,{children:Object(g.jsx)(x.a,{indicator:Object(g.jsx)(p.a,{style:{fontSize:24,color:"black"},spin:!0})})})})},y=function(e){Object(o.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(c.a)(this,s);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!0,isError:!1,alerts:null},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.alertsClient.getTotalAlerts(this.props.fromDate,this.props.toDate).then((function(t){e.props.isHeroTile?e.setState({alerts:7325,isLoading:!1}):setTimeout((function(){e.setState({alerts:t.payload,isLoading:!1})}),1e3*Math.floor(4*Math.random()))})).catch((function(t){e.setState({isLoading:!1,isError:!0}),console.error("error",t)}))}},{key:"render",value:function(){var e="Operation Protective Edge"===this.props.title||"Operation Black Belt"===this.props.title||"Operation Guardian of the Walls"===this.props.title?Object(d.a)(new Date(this.props.toDate),new Date(this.props.fromDate)):null,t=e&&this.state.alerts?Math.round(this.state.alerts/e):null,s=!this.state.isLoading&&!this.state.isError;return Object(g.jsx)(g.Fragment,{children:this.props.isHeroTile?Object(g.jsxs)("div",{className:"tile-hero",children:[Object(g.jsx)(w,{show:!this.state.isLoading,fadeInOnly:!0,children:Object(g.jsx)(m.a,{value:this.state.alerts})}),Object(g.jsx)("h3",{children:this.props.title})]}):Object(g.jsxs)("div",{className:"tile",children:[Object(g.jsx)("h3",{children:this.props.title}),Object(g.jsx)("div",{className:"subtitle",children:this.props.subtitle}),Object(g.jsxs)("div",{children:[this.state.isLoading&&Object(g.jsx)(D,Object(h.a)({},this.props)),s&&this.props.showAverage&&Object(g.jsxs)(O.a,{gutter:[8],justify:"center",className:"average-container",children:[Object(g.jsxs)(u.a,{children:[Object(g.jsx)("div",{className:"alerts",children:Object(g.jsx)(w,{show:!this.state.isLoading,fadeInOnly:!0,children:Object(g.jsx)(m.a,{value:this.state.alerts})})}),Object(g.jsx)("div",{children:"Total"})]}),Object(g.jsx)(u.a,{className:"separator",children:"."}),Object(g.jsxs)(u.a,{children:[Object(g.jsx)("div",{className:"average",children:Object(g.jsx)(w,{show:!this.state.isLoading,fadeInOnly:!0,children:Object(g.jsx)(m.a,{value:t})})}),Object(g.jsx)("div",{children:"Avg/Day"})]})]}),s&&!this.props.showAverage&&Object(g.jsx)("div",{className:"alerts",children:Object(g.jsx)(w,{show:!this.state.isLoading,fadeInOnly:!0,children:Object(g.jsx)(m.a,{value:this.state.alerts})})}),this.state.isError&&Object(g.jsxs)(w,{show:!this.state.isLoading,fadeInOnly:!0,children:[Object(g.jsx)(v.a,{className:this.props.showAverage?"loading-average":"loading-basic"})," Error"]})]})]})})}}]),s}(r.a.Component);y.defaultProps={isHeroTile:!1,title:"",subtitle:"",toDate:Object(b.a)(new Date,{representation:"date"}),showAverage:!1};var N=s(58),k=s(15),A=Object(N.a)("https://ra-agg.kipodopik.com/api/v1/alerts"),S={getTotalAlertsByDay:function(e,t){return e&&Object(k.a)(new Date(e))?t&&Object(k.a)(new Date(t))?A.url("/daily").query({from:e,to:t}).get().json().catch((function(e){return console.log({error:e}),null})):Promise.reject(new Error("Invalid Date: to")):Promise.reject(new Error("Invalid Date: from"))},getTotalAlerts:function(e,t){return e&&Object(k.a)(new Date(e))?t&&Object(k.a)(new Date(t))?A.url("/total").query({from:e,to:t}).get().json().catch((function(e){return console.log({error:e}),null})):Promise.reject(new Error("Invalid Date: to")):Promise.reject(new Error("Invalid Date: from"))}},E=s(95),C=s(107),L=s(96),I=s(108),P=(s(97),s(98),s(99),function(e){return Object(b.a)(e,{representation:"date"})}),M=function(){var e=Object(E.a)(new Date,1);return P(e)},T=function(){var e=Object(C.a)(new Date,1);return P(e)},H=function(){var e=Object(L.a)(new Date,1);return P(e)},B=function(){var e=Object(I.a)(new Date,1);return P(e)},R=s(109),q=function(e){Object(o.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(c.a)(this,s);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={alerts:{},showStickyHeader:!1,showApp:!1},e.handleScroll=function(t){var s=.8*window.innerHeight;e.setState({showStickyHeader:window.scrollY>Math.floor(s)})},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),this.setState({showApp:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:this.state.showApp?"pageContainer active":"pageContainer",children:[Object(g.jsxs)("header",{className:this.state.showStickyHeader?"sticky-header active":"sticky-header",children:[Object(g.jsxs)("div",{className:"left-container",children:[Object(g.jsx)("div",{className:"title",children:"Ra"}),Object(g.jsx)("div",{className:"alerts",children:Object(g.jsx)(m.a,{value:7325})})]}),Object(g.jsxs)("div",{className:"right-container",children:[Object(g.jsx)(R.a,{style:{fontSize:"24px",color:"white"}}),"#RocketAlerts"]})]}),Object(g.jsxs)("header",{className:"header",children:[Object(g.jsxs)("div",{className:"top",children:[Object(g.jsx)("h1",{children:"Rocket alerts"}),Object(g.jsx)("h2",{children:"Real time rocket alerts in Israel"})]}),Object(g.jsx)(y,{isHeroTile:!0,title:"alerts today",subtitle:M(),fromDate:M(),alertsClient:S}),Object(g.jsx)("div",{className:"share",children:Object(g.jsxs)("a",{href:"https://twitter.com/intent/tweet?button_hashtag=RocketAlert&ref_src=twsrc%5Etfw","data-show-count":"false","data-text":"custom share text","data-url":"https://dev.twitter.com/web/tweet-button","data-hashtags":"example,demo","data-via":"twitterdev","data-related":"twitterapi,twitter",children:[Object(g.jsx)("div",{children:Object(g.jsx)(R.a,{style:{fontSize:"24px",color:"white"}})}),Object(g.jsx)("div",{children:"#RocketAlerts"})]})})]}),Object(g.jsxs)("section",{className:"section",children:[Object(g.jsx)("h2",{children:"."}),Object(g.jsxs)(O.a,{gutter:[24,24],children:[Object(g.jsx)(u.a,{xs:24,sm:12,md:8,lg:6,children:Object(g.jsx)(y,{title:"Yesterday",subtitle:M(),fromDate:M(),alertsClient:S})}),Object(g.jsx)(u.a,{xs:24,sm:12,md:8,lg:6,children:Object(g.jsx)(y,{title:"Past Week",subtitle:"Since ".concat(T()),fromDate:T(),alertsClient:S})}),Object(g.jsx)(u.a,{xs:24,sm:12,md:8,lg:6,children:Object(g.jsx)(y,{title:"Past Month",subtitle:"Since ".concat(H()),fromDate:H(),alertsClient:S})}),Object(g.jsx)(u.a,{xs:24,sm:12,md:8,lg:6,children:Object(g.jsx)(y,{title:"Past Year",subtitle:"Since ".concat(B()),fromDate:B(),alertsClient:S})})]})]}),Object(g.jsxs)("section",{className:"section",children:[Object(g.jsx)("h2",{children:"Previous operations"}),Object(g.jsxs)(O.a,{gutter:[24,24],children:[Object(g.jsx)(u.a,{xs:24,sm:12,md:8,lg:6,children:Object(g.jsx)(y,{title:"Operation Cast Lead",subtitle:"27 Dec 2008 - 18 Jan 2009",fromDate:"2008-12-27",toDate:"2009-01-18",alertsClient:S})}),Object(g.jsx)(u.a,{xs:24,sm:12,md:8,lg:6,children:Object(g.jsx)(y,{title:"Operation Pillar of Defense",subtitle:"14 Nov 2012 - 21 Nov 2012",fromDate:"2012-11-14",toDate:"2012-11-21",alertsClient:S})}),Object(g.jsx)(u.a,{xs:24,sm:12,md:8,lg:6,children:Object(g.jsx)(y,{title:"Operation Protective Edge",subtitle:"8 July 2014 - 26 Aug 2014",fromDate:"2014-07-08",toDate:"2014-08-26",alertsClient:S,showAverage:!0})}),Object(g.jsx)(u.a,{xs:24,sm:12,md:8,lg:6,children:Object(g.jsx)(y,{title:"Operation Black Belt",subtitle:"12 Nov 2019 - 16 Nov 2019",fromDate:"2019-11-12",toDate:"2019-11-16",alertsClient:S,showAverage:!0})}),Object(g.jsx)(u.a,{xs:24,sm:12,md:8,lg:6,children:Object(g.jsx)(y,{title:"Operation Guardian of the Walls",subtitle:"10 May 2021 - 21 May 2021",fromDate:"2021-05-10",toDate:"2021-05-21",alertsClient:S,showAverage:!0})})]})]}),Object(g.jsx)("section",{className:"section",children:Object(g.jsx)("h2",{children:"Map"})}),Object(g.jsx)("section",{className:"section faq",children:Object(g.jsx)("h2",{children:"Frequently Asked Questions"})}),Object(g.jsx)("footer",{})]})}}]),s}(r.a.Component);n.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(q,{})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.862fade0.chunk.js.map